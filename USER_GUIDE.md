# SimRun 使用指南

> [English Version](./USER_GUIDE_EN.md)

欢迎使用 SimRun！这是一款专为跑步爱好者设计的移动应用，帮助您记录每一次跑步轨迹，追踪运动数据，实现健康目标。

---

## 📱 功能概览

- **实时跑步追踪** - GPS 精准记录跑步路线、距离、配速
- **灵动岛/Live Activity 支持** - 锁屏状态下也能查看实时数据
- **路线可视化** - 在地图上查看渐变色跑步轨迹
- **数据统计** - 今日运动数据、生涯累计记录、历史记录管理
- **云端同步** - iCloud 自动备份，支持跨设备恢复
- **数据导入导出** - 支持 JSON/GPX 格式导入导出
- **语音播报** - 多种角色语音，自定义播报频率
- **跑步计划** - 设置个人跑步目标
- **个人资料** - 自定义头像、身体数据管理
- **地图设置** - 自定义地图类型、路径颜色和宽度
- **暗黑模式** - 支持浅色/深色主题切换
- **长按手势** - 长按结束跑步、长按删除记录

---

## 🚀 快速开始

### 首次使用

1. **启动应用**
   - 打开 SimRun 应用
   - 允许位置权限（用于追踪跑步路线）
   - 允许通知权限（用于后台跑步提醒）

2. **选择语言**
   - 应用会根据系统语言自动设置（中文/英文）
   - 可在"我的 > 语言设置"中手动切换

3. **完善个人资料**
   - 点击底部"我的"进入个人中心
   - 点击"编辑资料"设置头像、昵称、身高、体重等信息
   - 准确的身体数据有助于更精准计算卡路里消耗

4. **设置头像**
   - 在个人资料页点击头像区域
   - 从相册选择照片，支持裁剪为 1:1 正方形
   - 头像会自动同步到首页显示

---

## 🏃‍♂️ 开始跑步

### 启动跑步记录

1. 在首页点击大大的 **"开始跑步"** 按钮
2. 等待 3-2-1 倒计时结束
3. 实时查看距离、时间、配速等数据
4. GPS 信号强度指示器显示当前定位精度

### 跑步中操作

| 功能      | 操作                                  |
| --------- | ------------------------------------- |
| 暂停/继续 | 点击暂停按钮暂停计时，点击继续恢复    |
| 查看地图  | 在跑步页面查看实时路线绘制            |
| 锁屏显示  | iOS 用户可在锁屏/灵动岛查看实时数据   |
| 结束跑步  | **长按"结束"按钮 1.5 秒**（防止误触） |

### 结束跑步

1. **长按"结束"按钮 1.5 秒**（进度条填满后触发）
2. 查看本次跑步的完整数据统计
3. 添加跑步标题和备注（可选）
4. 点击"保存记录"完成保存
5. 可选择导出为 JSON 或 GPX 格式分享

---

## 📊 查看跑步记录

### 首页数据卡片

- **今日数据** - 查看当日累计距离、时长、卡路里、配速
- **生涯累计** - 总跑步次数、总距离、总时长
- **最近活动** - 快速查看上一次跑步记录

### 历史记录

1. 点击底部"历史"标签
2. 按日期分组的跑步记录列表
3. **长按任意记录可删除**（iOS 图库风格）
4. 点击任意记录查看详情：
   - 渐变色跑步路线（绿色=起点，红色=终点）
   - 完整数据统计
   - 个人备注
   - 导出功能

### 删除记录

- 在历史记录列表中**长按**任意跑步记录
- 弹出确认对话框
- 确认后永久删除该记录

---

## 🗺️ 地图路线说明

跑步路线图使用渐变色表示跑步进度：

- 🟢 **绿色** - 跑步起点
- 🟡 **黄色** - 中间路段
- 🔴 **红色** - 跑步终点

地图上还显示：

- 起点和终点的标记
- 半透明脉冲圆圈效果
- 跑步时间范围标签

### 地图设置

在"我的 > 地图设置"中可以自定义：

- **地图类型** - 标准、卫星、混合
- **路径颜色** - 蓝色、绿色、橙色、红色、彩虹色
- **路径宽度** - 细、适中、粗

---

## ⚡ Live Activity / 灵动岛（iOS）

支持 iOS 16.1+ 的 Live Activity 功能：

- **锁屏显示** - 锁屏状态下也能看到实时距离、时间、配速
- **灵动岛** - iPhone 14 Pro+ 用户可在灵动岛查看跑步状态
- **实时更新** - 每秒钟自动更新数据
- **智能过期** - App 被杀后 5 分钟自动关闭

### 使用条件

- iOS 16.1 或更高版本
- 在"设置 > SimRun"中允许 Live Activity

---

## ☁️ 云端同步与数据管理

### iCloud 自动备份

1. 进入"我的 > 云端同步"
2. 开启"自动同步"功能
3. 可选择"仅 WiFi 同步"节省流量
4. 每次跑步结束后自动备份到 iCloud

### 手动备份与恢复

- **立即备份** - 手动触发数据库备份到 iCloud
- **恢复数据** - 从 iCloud 备份恢复（会覆盖当前数据）

### 从文件导入

支持从其他设备导入跑步记录：

1. 进入"我的 > 云端同步"
2. 点击"从文件导入"
3. 选择 JSON 或 GPX 格式的文件
4. 自动解析并导入到本地数据库

### 导出跑步数据

在跑步详情页：

1. 点击"导出"按钮
2. 选择格式：
   - **JSON** - 完整数据（推荐）
   - **GPX** - 通用轨迹格式，可导入其他运动 App
   - **CSV** - 表格数据
3. 通过系统分享导出

---

## 🔊 语音播报设置

在"我的 > 语音播报"中设置：

### 语音角色

提供多种语音角色：

- **专业教练** - 沉稳专业的男声
- **活力伙伴** - 充满活力的女声
- **温柔鼓励** - 温柔甜美的女声
- **机器人** - 机械风格

### 播报频率

可选择播报间隔：

- **关闭** - 不播报
- **每 1 公里** - 每跑 1 公里播报一次
- **每 2 公里** - 每跑 2 公里播报一次
- **每 5 公里** - 每跑 5 公里播报一次
- **每 10 分钟** - 每 10 分钟播报一次
- **每 30 分钟** - 每 30 分钟播报一次

播报内容包含：当前距离、用时、配速、卡路里消耗

---

## 👤 个人资料管理

### 编辑资料

1. 点击底部"我的"进入个人中心
2. 点击"编辑资料"
3. 可修改：
   - **头像** - 从相册选择图片
   - **昵称** - 设置个性化名称
   - **个性签名** - 一句话介绍自己
   - **性别** - 男/女
   - **身高/体重/年龄** - 用于精准计算运动数据

### 头像上传

- 支持从手机相册选择图片
- 自动裁剪为 1:1 正方形
- 头像更改后会自动同步到首页

### 设置选项

在"我的"页面还可以设置：

- **语言** - 中文/英文
- **暗黑模式** - 浅色/深色/跟随系统
- **云端同步** - iCloud 备份设置
- **地图设置** - 地图显示偏好
- **语音播报** - 语音设置
- **跑步计划** - 设置跑步目标

---

## 🌙 主题设置

SimRun 支持浅色/深色模式：

- **自动切换** - 跟随系统自动切换主题
- **手动切换** - 在"我的"页面切换深色/浅色模式

---

## 💡 使用技巧

### 获得更准确的 GPS 数据

- 在开阔地带跑步，避免高楼或树林遮挡
- 开启"高精度定位"模式
- 等待 GPS 信号稳定后再开始跑步
- 观察信号强度指示器（4 格=优秀，1 格=较差）

### 防止误触结束跑步

- 使用**长按手势**（1.5 秒）结束跑步
- 观察进度条填满再松手
- 中途松手可取消结束操作

### 延长电池续航

- 降低屏幕亮度
- 关闭不必要的后台应用
- 使用省电模式（可能会影响 GPS 精度）
- 仅在 WiFi 环境下同步数据

### 数据安全与备份

- 所有跑步数据保存在本地
- 开启 iCloud 自动备份防止数据丢失
- 定期导出重要记录到 JSON 文件
- 更换设备时可通过 iCloud 恢复或文件导入

---

## 🔧 常见问题

**Q: 为什么 GPS 定位不准确？**

> A: 请确保在开阔地带使用，避免建筑物遮挡。首次使用可能需要等待 30 秒左右完成定位。查看信号强度指示器了解当前 GPS 质量。

**Q: Live Activity 没有显示？**

> A: 请确保：1) iOS 16.1+ 系统；2) 在系统设置中允许 Live Activity；3) 已经开始跑步记录。

**Q: 如何删除历史记录？**

> A: 在历史记录列表中，长按任意跑步记录，弹出确认对话框后点击"删除"。

**Q: 如何修改已保存的跑步记录？**

> A: 在历史记录中查看详情，目前不支持修改已保存的路线数据，但可以添加/修改备注。

**Q: 头像上传失败？**

> A: 请确保已授予相册访问权限。在"设置 > 隐私 > 照片"中检查权限设置。

**Q: 支持哪些语言？**

> A: 目前支持简体中文和英文，应用会根据系统语言自动设置，也可在"我的 > 语言设置"中手动切换。

**Q: 如何备份数据到新手机？**

> A: 方法 1：开启 iCloud 同步，在新设备登录同一 Apple ID 后自动恢复。方法 2：在旧设备导出 JSON 文件，在新设备通过"从文件导入"功能恢复。

**Q: 语音播报不响？**

> A: 请检查：1) 语音播报是否开启；2) 播报频率设置；3) 手机是否静音；4) 系统音量是否足够。

**Q: 长按结束跑步不生效？**

> A: 请确保长按时间达到 1.5 秒，观察进度条填满后再松手。如果进度未满就松手，会取消结束操作。

---

## 📞 技术支持与反馈

如遇到问题或有功能建议，请通过以下方式联系我们：

- **GitHub Issues**: [提交问题或建议](https://github.com/ShetePro/sim-run-app/issues)
- **邮箱**: sheteprolin@gmail.com
- **使用指南**: 在"我的 > 帮助与反馈"中查看

---

## 📄 版本信息

- 当前版本：v1.0.0
- 支持平台：iOS 16.0+ / Android 10+
- 最后更新：2026年2月

---

**祝您跑步愉快！🏃‍♀️🏃‍♂️**
